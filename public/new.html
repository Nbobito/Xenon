<button onclick="newElement()">New Element</button>

<script>
    function newElement() {
        if (document.getElementById("selectElem").value != "Upload") {
            document.getElementById("elements").innerHTML +=
                "<li class='slide' ondblclick='this.remove()'>'+document.getElementById('selectElem').value+'<button>Add Data</button></li>";
        } else {
            alert("Upload now");
        }
    }
</script>

<select id="selectElem">
    <optgroup>
        <option value="Login">Login</option>
        <option value="Puzzle 1">Puzzle 1</option>
        <option value="Puzzle 2">Puzzle 2</option>
        <option value="Bomb">Bomb</option>
        <option value="Upload">Upload</option>
    </optgroup>
</select>
<ul class="slides" id="elements">
    <li class="slide" ondblclick="this.remove()">
        Element 1 <button>Add Data</button>
    </li>
    <li class="slide" ondblclick="this.remove()">
        Element 2 <button>Add Data</button>
    </li>
    <li class="slide" ondblclick="this.remove()">
        Element 3 <button>Add Data</button>
    </li>
    <li class="slide" ondblclick="this.remove()">
        Element 4 <button>Add Data</button>
    </li>
    <li class="slide" ondblclick="this.remove()">
        Element 5 <button>Add Data</button>
    </li>
</ul>

<style>
    body {
        padding: 20px;
    }
    .slides {
        list-style: none;
        margin: 0;
        padding: 0;
        width: 300px;
    }
    .slide {
        padding: 15px;
        background-color: #2f2f2f;
        margin: 0 0 15px;
        text-align: center;
        color: #fff;
        border: 2px solid #444;
    }

    .slide-placeholder {
        background: #dadada;
        position: relative;
    }
    .slide-placeholder:after {
        content: " ";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 15px;
        background-color: #fff;
    }

    .slide2 {
        height: 30px;
    }
    .slide3 {
        height: 50px;
    }
    .slide4 {
        height: 90px;
    }
    .slide5 {
        height: 35px;
    }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script>
    $(".slides").sortable({
        placeholder: "slide-placeholder",
        axis: "y",
        revert: 150,
        start: function (e, ui) {
            placeholderHeight = ui.item.outerHeight();
            ui.placeholder.height(placeholderHeight + 15);
            $(
                '<div class="slide-placeholder-animator" data-height="' +
                    placeholderHeight +
                    '"></div>'
            ).insertAfter(ui.placeholder);
        },
        change: function (event, ui) {
            ui.placeholder
                .stop()
                .height(0)
                .animate(
                    {
                        height: ui.item.outerHeight() + 15,
                    },
                    300
                );

            placeholderAnimatorHeight = parseInt(
                $(".slide-placeholder-animator").attr("data-height")
            );

            $(".slide-placeholder-animator")
                .stop()
                .height(placeholderAnimatorHeight + 15)
                .animate(
                    {
                        height: 0,
                    },
                    300,
                    function () {
                        $(this).remove();
                        placeholderHeight = ui.item.outerHeight();
                        $(
                            '<div class="slide-placeholder-animator" data-height="' +
                                placeholderHeight +
                                '"></div>'
                        ).insertAfter(ui.placeholder);
                    }
                );
        },
        stop: function (e, ui) {
            $(".slide-placeholder-animator").remove();
        },
    });
</script>
